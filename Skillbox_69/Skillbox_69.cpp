#include <iostream>
#include <iomanip>
#include <vector>

using namespace std;

/*Задание 3. Матрицы
Требуется реализовать небольшую программу для сравнения двух двумерных матриц размером 4 × 4 на предмет их полного равенства. 
Если матрицы равны друг другу, необходимо взять одну из матриц и привести её к диагональному виду. 
Программа принимает на вход две целочисленные матрицы A и B, которые вводятся с помощью std::cin, 
и сравнивает их на предмет полного равенства. Если матрицы равны, то об этом сообщается в стандартном выводе. 
Алгоритм должен быть по возможности оптимальным и не проводить лишних операций. 
Если матрицы не равны, выводится соответствующее сообщение и выполнение программы прекращается. 
Если матрицы равны, то из них выбирается одна и преобразуется в диагональную. 
Конвертация в диагональную форму делается путём простейшего зануления всех элементов, лежащих вне главной диагонали. 
Напомню, что диагональная матрица — это такая матрица, у которой все элементы вне диагонали равны нулю. 
Диагональ матрицы, в свою очередь, — это все элементы, 
расположенные по диагонали от первого элемента первой строки до последнего элемента последней строки. 
Итоговую диагональную матрицу можно расположить на месте прежней матрицы, не используя дополнительных переменных. 
Результат преобразования требуется вывести в консоль для проверки. Ищите именно оптимальное решение, оно довольно простое.*/

//------------------------------------------------------------------------------------------------------------------------
void printMatrix(const vector<vector<int>>& matrix) // Метод для вывода матрицы
{
	for (const auto& row : matrix) 
	{
		for (int value : row) 
		{
			cout << setw(4) << value;
		}
		cout << endl;
	}
}
//------------------------------------------------------------------------------------------------------------------------
bool compareAndTransform(vector<vector<int>>& matrixA, const vector<vector<int>>& matrixB) // Метод для сравнения матриц и преобразования к диагональной форме
{
	// Проверка на равенство матриц
	for (size_t i = 0; i < matrixA.size(); ++i) 
	{
		for (size_t j = 0; j < matrixA[i].size(); ++j) 
		{
			if (matrixA[i][j] != matrixB[i][j]) 
			{
				cout << "Матрицы не равны." << endl;
				return false;
			}
		}
	}

	cout << "Матрицы равны. Преобразуем первую матрицу к диагональной форме." << endl;

	// Преобразование к диагональной форме
	for (size_t i = 0; i < matrixA.size(); ++i) 
	{
		for (size_t j = 0; j < matrixA[i].size(); ++j) 
		{
			if (i != j) 
			{
				matrixA[i][j] = 0; // Зануляем элементы вне главной диагонали
			}
		}
	}

	return true;
}
//------------------------------------------------------------------------------------------------------------------------
int main()
{
	setlocale(LC_ALL, "ru");

	// Ввод матриц A и B
	cout << "Введите элементы матрицы A (4x4):" << endl;
	vector<vector<int>> matrixA(4, vector<int>(4));
	for (auto& row : matrixA) 
	{
		for (int& value : row) 
		{
			cin >> value;
		}
	}

	cout << "Введите элементы матрицы B (4x4):" << endl;
	vector<vector<int>> matrixB(4, vector<int>(4));
	for (auto& row : matrixB) 
	{
		for (int& value : row) 
		{
			cin >> value;
		}
	}

	// Вывод матриц
	cout << "Матрица A:" << endl;
	printMatrix(matrixA);

	cout << "Матрица B:" << endl;
	printMatrix(matrixB);

	// Сравнение и преобразование
	if (compareAndTransform(matrixA, matrixB)) 
	{
		cout << "Результат преобразования матрицы A:" << endl;
		printMatrix(matrixA);
	}

	return 0;
}
//------------------------------------------------------------------------------------------------------------------------